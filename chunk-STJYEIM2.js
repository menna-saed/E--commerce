import{b as A,c as p,d as z,e as H,f as Z,h as S,j as I,k as $,m as j,q as B,r as O}from"./chunk-ZSFQ7NLB.js";import{c as G}from"./chunk-HFNP73FD.js";import{$a as t,Eb as E,Fb as w,Gb as y,Ha as V,Lb as C,Ua as s,Va as m,X as T,Za as F,_a as e,a as P,aa as k,ab as d,ba as M,ca as b,da as _,gb as N,jb as L,lb as h,wb as v,xa as r,xb as a,yb as D}from"./chunk-Y5WUEYWX.js";import"./chunk-4CLCTAJ7.js";var q=(n,i)=>({"border-green-500":n,"border-red-500":i}),J=(n,i)=>({"border-green-400":n,"border-red-400":i});function Q(n,i){if(n&1&&(e(0,"div",3),b(),e(1,"svg",24),d(2,"path",25),t(),_(),e(3,"span",26),a(4,"Danger"),t(),e(5,"div")(6,"span",27),a(7),t()()()),n&2){let l=h();r(7),D(l.MsgError)}}function U(n,i){n&1&&(e(0,"li"),a(1,"name is Required"),t())}function W(n,i){n&1&&(e(0,"li"),a(1,"Enter valid name"),t())}function X(n,i){if(n&1&&(e(0,"div",7),b(),e(1,"svg",24),d(2,"path",25),t(),_(),e(3,"span",26),a(4,"Danger"),t(),e(5,"div")(6,"span",28),a(7,"Ensure that these requirements are met:"),t(),e(8,"ul",29),s(9,U,2,0,"li"),s(10,W,2,0,"li"),t()()()),n&2){let l,o=h(),u=y(6);r(9),m(u!=null&&u.getError("required")?9:-1),r(),m(u!=null&&u.getError("minlength")||(l=o.RegisterForm.get("name"))!=null&&l.getError("maxlength")?10:-1)}}function Y(n,i){n&1&&(e(0,"li"),a(1,"email is Required"),t())}function ee(n,i){n&1&&(e(0,"li"),a(1,"Enter valid email"),t())}function te(n,i){if(n&1&&(e(0,"div",7),b(),e(1,"svg",24),d(2,"path",25),t(),_(),e(3,"span",26),a(4,"Danger"),t(),e(5,"div")(6,"span",28),a(7,"Ensure that these requirements are met:"),t(),e(8,"ul",29),s(9,Y,2,0,"li"),s(10,ee,2,0,"li"),t()()()),n&2){h();let l=y(12);r(9),m(l!=null&&l.getError("required")?9:-1),r(),m(l!=null&&l.getError("email")?10:-1)}}function ne(n,i){n&1&&d(0,"i",14)}function ie(n,i){n&1&&d(0,"i",15)}function re(n,i){n&1&&(e(0,"li"),a(1,"password is Required"),t())}function ae(n,i){n&1&&(e(0,"li"),a(1,"Enter valid password"),t())}function le(n,i){if(n&1&&(e(0,"div",16),b(),e(1,"svg",24),d(2,"path",25),t(),_(),e(3,"span",26),a(4,"Danger"),t(),e(5,"div")(6,"span",28),a(7,"Ensure that these requirements are met:"),t(),e(8,"ul",29),s(9,re,2,0,"li"),s(10,ae,2,0,"li"),t()()()),n&2){h();let l=y(18);r(9),m(l!=null&&l.getError("required")?9:-1),r(),m(l!=null&&l.getError("pattern")?10:-1)}}function oe(n,i){n&1&&(e(0,"div",19),a(1,"56039 "),b(),e(2,"svg",24),d(3,"path",25),t(),_(),e(4,"span",26),a(5,"Danger"),t(),e(6,"div")(7,"span",28),a(8,"Ensure that these requirements are met:"),t(),e(9,"ul",29)(10,"li"),a(11,"rePassword is not match "),t()()()())}function se(n,i){n&1&&(e(0,"li"),a(1,"phone is Required"),t())}function me(n,i){n&1&&(e(0,"li"),a(1,"Accept only Egypt phone"),t())}function de(n,i){if(n&1&&(e(0,"div",16),b(),e(1,"svg",24),d(2,"path",25),t(),_(),e(3,"span",26),a(4,"Danger"),t(),e(5,"div")(6,"span",28),a(7,"Ensure that these requirements are met:"),t(),e(8,"ul",29),s(9,se,2,0,"li"),s(10,me,2,0,"li"),t()()()),n&2){h();let l=y(33);r(9),m(l!=null&&l.getError("required")?9:-1),r(),m(l!=null&&l.getError("pattern")?10:-1)}}function ue(n,i){n&1&&(e(0,"span"),d(1,"i",30),t())}var K=class n{isloading=!1;flag=!0;MsgError="";subscribe=new P;authservice=T(O);router=T(G);RegisterForm=new Z({name:new S(null,[p.minLength(3),p.maxLength(20),p.required]),email:new S(null,[p.required,p.email]),password:new S(null,[p.pattern(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/),p.required]),rePassword:new S(null,[p.pattern(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/),p.required]),phone:new S(null,[p.pattern(/^01[0125][0-9]{8}$/),p.required])},{validators:this.conformPass});submit(){this.RegisterForm.valid?(this.subscribe.unsubscribe(),this.isloading=!0,this.subscribe=this.authservice.RegiterData(this.RegisterForm.value).subscribe({next:i=>{i.message==="success"&&(this.MsgError="",this.router.navigate(["/login"]))},error:i=>{i.error.message&&(this.MsgError=i.error.message,console.log(this.MsgError),this.isloading=!1)}})):(this.RegisterForm.setErrors({missmatch:!0}),this.RegisterForm.markAllAsTouched())}conformPass(i){return i.get("password")?.value===i.get("rePassword")?.value?null:{missmatch:!0}}static \u0275fac=function(l){return new(l||n)};static \u0275cmp=V({type:n,selectors:[["app-register"]],decls:41,vars:41,consts:[[1,"section","mt-25","mb-20"],[1,"text-center","text-blue-900","font-bold","text-4xl","pb-7","pt-3"],[1,"max-w-lg","mx-auto",3,"ngSubmit","formGroup"],["role","alert",1,"flex","p-4","mt-2","mb-2","text-sm","text-red-800","rounded-lg","bg-red-500","text-white"],[1,"relative","z-0","mx-auto","mb-6","group"],["formControlName","name","type","text","name","floating_first_name","id","name","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","peer"],["for","name",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["role","alert",1,"flex","p-4","mt-5","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"relative","z-0","w-full","mb-6","group"],["formControlName","email","type","email","name","floating_email","id","email","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","peer"],["for","email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["formControlName","password","name","floating_password","id","password","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","peer",3,"type"],["for","password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"absolute","top-1/2","end-4","-translate-y-1/2","cursor-pointer",3,"click"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],["role","alert",1,"flex","p-4","mt-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["formControlName","rePassword","type","password","name","rePassword","id","rePassword","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","rePassword",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,""],["formControlName","phone","type","tel","name","floating_phone","id","phone","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","peer"],["for","phone",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","submit",1,"btn","mx-auto",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"text-center","font-medium"],[1,"font-medium"],[1,"mt-1.5","list-disc","list-inside"],[1,"fa-solid","fa-spinner","animate-spin"]],template:function(l,o){if(l&1){let u=N();e(0,"div",0)(1,"h2",1),a(2," Register Now..."),t(),e(3,"form",2),L("ngSubmit",function(){return k(u),M(o.submit())}),s(4,Q,8,1,"div",3),e(5,"div",4),E(6),d(7,"input",5),e(8,"label",6),a(9,"First name"),t(),s(10,X,11,2,"div",7),t(),e(11,"div",8),E(12),d(13,"input",9),e(14,"label",10),a(15,"Email "),t(),s(16,te,11,2,"div",7),t(),e(17,"div",8),E(18),d(19,"input",11),e(20,"label",12),a(21,"Password"),t(),e(22,"span",13),L("click",function(){return k(u),M(o.flag=!o.flag)}),s(23,ne,1,0,"i",14),s(24,ie,1,0,"i",15),t(),s(25,le,11,2,"div",16),t(),e(26,"div",8),d(27,"input",17),e(28,"label",18),a(29,"Confirm password"),t(),s(30,oe,12,0,"div",19),t(),e(31,"div",20)(32,"div",8),E(33),d(34,"input",21),e(35,"label",22),a(36,"Phone number "),t()(),s(37,de,11,2,"div",16),t(),e(38,"button",23),a(39,"Register "),s(40,ue,2,0,"span"),t()()()}if(l&2){let u,R;r(3),F("formGroup",o.RegisterForm),r(),m(o.MsgError?4:-1),r(2);let c=w(o.RegisterForm.get("name"));r(),v(C(26,q,c==null?null:c.valid,(c==null?null:c.invalid)&&(c==null?null:c.touched))),r(3),m(c!=null&&c.errors&&(c!=null&&c.touched)?10:-1),r(2);let f=w(o.RegisterForm.get("email"));r(),v(C(29,q,f==null?null:f.valid,(f==null?null:f.invalid)&&(f==null?null:f.touched))),r(3),m(f!=null&&f.errors&&(f!=null&&f.touched)?16:-1),r(2);let g=w(o.RegisterForm.get("password"));r(),v(C(32,J,g==null?null:g.valid,(g==null?null:g.invalid)&&(g==null?null:g.touched))),F("type",o.flag?"password":"text"),r(4),m(o.flag?23:-1),r(),m(o.flag===!1?24:-1),r(),m(g!=null&&g.errors&&(g!=null&&g.touched)?25:-1),r(2),v(C(35,J,(u=o.RegisterForm.get("rePassword"))==null?null:u.valid,((u=o.RegisterForm.get("rePassword"))==null?null:u.invalid)&&((u=o.RegisterForm.get("rePassword"))==null?null:u.touched))),r(3),m(o.RegisterForm.getError("missmatch")&&((R=o.RegisterForm.get("rePassword"))!=null&&R.touched)?30:-1),r(3);let x=w(o.RegisterForm.get("phone"));r(),v(C(38,q,x==null?null:x.valid,(x==null?null:x.invalid)&&(x==null?null:x.touched))),r(3),m(x!=null&&x.errors&&(x!=null&&x.touched)?37:-1),r(),F("disabled",o.isloading),r(2),m(o.isloading?40:-1)}},dependencies:[B,I,A,z,H,$,j],encapsulation:2})};export{K as RegisterComponent};
